{"version":3,"sources":["../../../../components/auth/LoginForm.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport * as z from \"zod\"\r\nimport Link from \"next/link\"\r\nimport { createClient } from \"@/lib/supabase\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n} from \"@/components/ui/form\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { toast } from \"sonner\"\r\nimport { Loader2 } from \"lucide-react\"\r\n\r\nconst formSchema = z.object({\r\n    email: z.string().email(\"Invalid email address\"),\r\n    password: z.string().min(1, \"Password is required\"),\r\n    rememberMe: z.boolean(),\r\n})\r\n\r\nexport function LoginForm() {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const supabase = createClient()\r\n\r\n    const form = useForm<z.infer<typeof formSchema>>({\r\n        resolver: zodResolver(formSchema),\r\n        defaultValues: {\r\n            email: \"\",\r\n            password: \"\",\r\n            rememberMe: false,\r\n        },\r\n    })\r\n\r\n    async function onSubmit(values: z.infer<typeof formSchema>) {\r\n        setIsLoading(true)\r\n        try {\r\n            const { error } = await supabase.auth.signInWithPassword({\r\n                email: values.email,\r\n                password: values.password,\r\n            })\r\n\r\n            if (error) {\r\n                toast.error(\"Login failed\", { description: error.message })\r\n                return\r\n            }\r\n\r\n            toast.success(\"Welcome back!\", { description: \"You have been logged in.\" })\r\n            // Redirect handling\r\n        } catch {\r\n            toast.error(\"Something went wrong.\")\r\n        } finally {\r\n            setIsLoading(false)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"w-full max-w-sm space-y-8\">\r\n            <div className=\"text-center\">\r\n                <h2 className=\"text-3xl font-bold tracking-tight\">Log in to Powered Pipeline Pro</h2>\r\n                <p className=\"mt-2 text-sm text-muted-foreground\">\r\n                    Enter your credentials to access your account.\r\n                </p>\r\n            </div>\r\n\r\n            <Form {...form}>\r\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"email\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Email</FormLabel>\r\n                                <FormControl><Input type=\"email\" placeholder=\"name@example.com\" {...field} /></FormControl>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <FormField\r\n                        control={form.control}\r\n                        name=\"password\"\r\n                        render={({ field }) => (\r\n                            <FormItem>\r\n                                <FormLabel>Password</FormLabel>\r\n                                <FormControl><Input type=\"password\" {...field} /></FormControl>\r\n                                <FormMessage />\r\n                            </FormItem>\r\n                        )}\r\n                    />\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <FormField\r\n                            control={form.control}\r\n                            name=\"rememberMe\"\r\n                            render={({ field }) => (\r\n                                <FormItem className=\"flex flex-row items-start space-x-2 space-y-0\">\r\n                                    <FormControl>\r\n                                        <Checkbox checked={field.value} onCheckedChange={field.onChange} />\r\n                                    </FormControl>\r\n                                    <div className=\"space-y-1 leading-none\">\r\n                                        <FormLabel className=\"font-normal text-xs\">Remember me</FormLabel>\r\n                                    </div>\r\n                                </FormItem>\r\n                            )}\r\n                        />\r\n                        <Link href=\"/forgot-password\" className=\"text-xs text-primary hover:underline\">\r\n                            Forgot password?\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <Button type=\"submit\" className=\"w-full\" disabled={isLoading}>\r\n                        {isLoading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\r\n                        Log in\r\n                    </Button>\r\n                </form>\r\n            </Form>\r\n\r\n            <div className=\"relative\">\r\n                <div className=\"absolute inset-0 flex items-center\"><span className=\"w-full border-t\" /></div>\r\n                <div className=\"relative flex justify-center text-xs uppercase\"><span className=\"bg-background px-2 text-muted-foreground\">Or continue with</span></div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 gap-2\">\r\n                <Button variant=\"outline\" type=\"button\" disabled={isLoading}>Google</Button>\r\n            </div>\r\n\r\n            <p className=\"text-center text-sm text-muted-foreground\">\r\n                Don&apos;t have an account? <Link href=\"/signup\" className=\"text-primary hover:underline\">Sign up</Link>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}